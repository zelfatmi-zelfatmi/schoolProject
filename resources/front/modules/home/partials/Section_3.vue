<template>
    <section class="bg-orange-50 relative z-0 isolate">
      <div class="max-w-[120rem] relative mx-auto py-1">
        <div class="container-app flex flex-col md:flex-row gap-8 lg:gap-12 xl:gap-20 relative mb-8">
  
          <!-- Partie Gauche -->
          <article class="md:w-1/3 max-md:px-2 mt-20 md:py-40 top-0 relative md:sticky md:h-fit">
            <h2 class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-[42px] leading-snug">
              Nos clients sont notre fiert√©
            </h2>
            <p class="mt-4 text-lg leading-8 text-gray-600">
              Les t√©moignages et retours de nos clients sont tr√®s positifs comme ci-dessous
            </p>
            <Icon
              name="/home/nos-client.png"
              :is_icon="false"
              class="max-w-3xl block max-md:w-full md:absolute object-contain top-full -left-full mix-blend-multiply md:-mt-32"
            />
          </article>
  
          <!-- Partie Droite Desktop -->
          <article class="hidden md:flex gap-10 md:w-2/3 pb-20 md:py-36">
            <ul class="md:flex md:flex-col gap-4 md:gap-8 md:-rotate-6">
              <ClientItem
                v-for="(item, idx) in posts.col1"
                :key="'col1-' + idx"
                class="md:w-full"
                :item="item"
              />
            </ul>
            <ul class="md:flex md:flex-col gap-4 md:gap-8 md:-rotate-6">
              <ClientItem
                v-for="(item, idx) in posts.col2"
                :key="'col2-' + idx"
                class="md:w-full"
                :item="item"
              />
            </ul>
          </article>
  
          <!-- Partie Mobile - Swiper -->
          <article class="md:hidden w-full px-4">
            <Swiper
            :modules="[Pagination]"
    :slides-per-view="1.1"
    :space-between="16"
    :pagination="{
      clickable: true,
      el: '.custom-swiper-pagination'
    }"
    class="pb-6"
            >
            <SwiperSlide
    v-for="(item, index) in allClients"
    :key="'client-' + index"
      >
    <ClientItem :item="item" />
  </SwiperSlide>
  
            </Swiper>
            <div class="custom-swiper-pagination mt-4 flex justify-center gap-2"></div>
  
          </article>
        </div>
      </div>
    </section>
  </template>
  
  <script setup>
  import Icon from '@shared/components/Icon.vue';
  import ClientItem from './ClientItem.vue';
  import { Swiper, SwiperSlide } from 'swiper/vue';
  import { Pagination } from 'swiper/modules';
  import 'swiper/css';
  import 'swiper/css/pagination';
  const posts = {
      col1: [
          {
              name: 'Mathilde Loison',
              description:
                  'Auto √©cole au top, permis obtenu en moins d‚Äôun mois, Secr√©taire disponible et attentive, moniteur patient et expliquant tr√®s bien Accepte les √©l√®ves ayant d√©j√† louper plusieurs fois le permis et sans aucun jugement Je recommande pleinement üôÇ',
              stars: 5,
              image_url: '/home/client_1.png',
          },
          {
              name: 'aatillah Assed',
              description:
                  'Apr√®s avoir rat√© mon permis 3 fois, je suis pass√© par moniteur ind√©pendant et j‚Äôai enfin r√©ussi √† obtenir mon permis gr√¢ce √† leur professionnel et leur p√©dagogie. Merci pour tous, la meilleure auto √©cole que j‚Äôai eu üòÄ vraiment un grand merci √† toute l‚Äô√©quipe qui est reste derri√®re moi et qui ne m‚Äôa pas l√¢ch√©. Mille merci √† vous',
              stars: 5,
              image_url: '/home/client_2.png',
          },
          {
              name: 'Agam',
              description:
                  "Les meilleurs moniteurs √† Creil et aux alentours. Ils sont hyper dr√¥le mais sont surtout p√©dagogues et vous apprennent r√©ellement √† conduire en s√©curit√©. J'ai eue mon permis tr√®s rapidement avec une tr√®s bonne note. En plus ils volent pas les √©l√®ves ! Rien √† dire",
              stars: 5,
              image_url: '/home/client_3.png',
          },
      ],
      col2: [
          {
              name: 'Tom Milesi',
              description:
                  'Excellent Excellent moniteurs, secr√©taires‚Ä¶ au top √† l‚Äô√©coute d√©tendu et qui mettent √† l‚Äôaise les candidats pendant la conduite et √† l‚Äôexamen. Meilleure Auto-√©cole de la r√©gion. Meilleures pourquoi? Car apr√®s avoir contact√© une multiple d‚Äôauto √©cole du secteur vous √™tes la seule √† m‚Äôavoir propos√© une date en une semaine au lieu de minimum 4 mois d‚Äôapr√®s les autres Auto-√©cole.',
              stars: 5,
              image_url: '/home/client_4.png',
          },
          {
              name: 'Noupoue Noupoue',
              description:
                  'A recommander √† d‚Äôautres √©l√®ves. Professionnels disponibles √† l‚Äô√©coute. Ne refuse pas les √©l√®ves ayant d√©j√† √©chou√© le permis comme d‚Äôautres auto √©cole. Motive L‚Äô√©l√®ve √† prendre confiance en soi',
              stars: 5,
              image_url: '/home/client_5.png',
          },
          {
              name: 'Wendy Richomme',
              description:
                  '√âquipe p√©dagogique ! A l‚Äô√©coute , Compr√©hensif, apr√®s avoir √©chou√© plusieurs fois dans une auto √©cole j‚Äôai enfin obtenu mon permis en grande partie gr√¢ce √† l‚Äô√©quipe , merci √† mon moniteur exceptionnel ! il m‚Äôa donn√© beaucoup de bons conseils , il a su m‚Äôapprendre sans me brusquer ! Merci',
              stars: 5,
              image_url: '/home/client_6.png',
          },
      ],
  };
  
  const allClients = [...posts.col1, ...posts.col2];
  </script>
  <style scoped>
  /* Supprime les marges internes au slide */
  .swiper-slide {
    display: flex;
    align-items: stretch;
    min-height: 360px;
  }
  
  /* Bullets dans le conteneur externe */
  .custom-swiper-pagination .swiper-pagination-bullet {
    background-color: #d1d5db;
    opacity: 1;
    width: 10px;
    height: 10px;
    margin: 0 4px;
    border-radius: 9999px;
  }
  
  .custom-swiper-pagination .swiper-pagination-bullet-active {
    background-color: #f97316;
  }
  
  </style>